{% extends "base.html" %}

{% block title %}Tạo bài viết{% endblock %}

{% block content %}
    <main class="container mx-auto max-w-4xl px-4 py-6">
        <div class="editor-container bg-white shadow-md p-6 rounded-lg">
            <h2 class="text-2xl font-bold text-gray-500 mb-6">Tạo Bài Viết Mới</h2>
            <form id="post-form" method="POST" enctype="multipart/form-data" action="/taobaiviet">
                <div class="mb-4">
                    <label
                            for="post-title"
                            class="block text-sm font-medium text-gray-700 mb-2"
                    >
                        Tiêu đề bài viết
                    </label>
                    <input
                            type="text"
                            id="post-title"
                            name="title"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white"
                            placeholder="Nhập tiêu đề bài viết..."
                            required
                    />
                </div>
                <div class="mb-4">
                    <label
                            for="post-category"
                            class="block text-sm font-medium text-gray-700 mb-2"
                    >
                        Danh mục
                    </label>
                    <!-- Checkbox -->
                    {% for category in categories %}
                        <label>
                            <input type="checkbox" name="category_ids" value="{{ category.id }}">
                            {{ category.name }}
                        </label><br>
                    {% endfor %}

                    <label
                            for="post-category"
                            class="block text-sm font-medium text-gray-700 mb-2"
                    >
                        Trạng thái bài viết
                    </label>
                    <select
                            id="post-category"
                            name="status"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white"
                            required
                    >    <option value="published">Công khai</option>
                        <option value="draft">Nháp</option>
                        <option value="archived">Lưu trữ</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label
                            for="post-image"
                            class="block text-sm font-medium text-gray-700 mb-2"
                    >
                        Hình ảnh bài viết
                    </label>
                    <input
                            type="file"
                            id="post-image"
                            name="image"
                            accept="image/*"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white"
                    />
                </div>
                <div class="mb-4">
                    <label
                            for="post-content"
                            class="block text-sm font-medium text-gray-700 mb-2"
                    >
                        Mô tả
                    </label>
                    <textarea
                            name="description"
                            placeholder="Mô tả bài viết"
                            class="w-full bg-white text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                    ></textarea>
                </div>
                <div class="mb-4">
                    <label for="tags" class="block text-gray-700 font-medium mb-2">Tags (ngăn cách bằng dấu phẩy)</label>
                    <input type="text" id="tags" name="tags"
                           placeholder="ví dụ: công nghệ, AI, học lập trình"
                           class="w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring focus:border-blue-300" />
                </div>

                <div class="mb-4">
                    <label
                            for="post-content"
                            class="block text-sm font-medium text-gray-700 mb-2"
                    >
                        Nội dung bài viết
                    </label>
                    <textarea
                            id="post-content"
                            name="content"
                            class="w-full bg-white text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                    ></textarea>
                </div>
                <div class="flex justify-end space-x-4">
                    <button
                            type="submit"
                            class="px-4 py-2 bg-gray-300 text-gray-700 rounded-full hover:bg-gray-400 transition duration-200"
                            onclick="saveDraft()"
                    >
                        Lưu Nháp
                    </button>
                    <button
                            type="submit"
                            class="px-4 py-2 bg-blue-700 text-white rounded-full hover:bg-blue-800 transition duration-200"
                    >
                        Đăng Bài
                    </button>
                </div>
            </form>
        </div>
    </main>
{% endblock %}
